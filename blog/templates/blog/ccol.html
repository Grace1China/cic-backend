{% load i18n static %}
{% load cust_filters %}
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="{% static 'blog/images/favicon.ico' %}" rel="shortcut icon" type="image/vnd.microsoft.icon">
<link rel="stylesheet" href="{% static 'church/css/video-js.css' %}">
<link rel="stylesheet" href="{% static 'church/css/ele_index.css' %}">
<link rel="stylesheet" href="{% static 'church/css/mintui.css' %}">


<script type="text/javascript" src="{% static "church/js/videojs-ie8.min.js" %}"></script>
<script type="text/javascript" src="{% static "church/js/vue.js" %}"></script>
<script type="text/javascript" src="{% static "church/js/ele_index.js" %}"></script>
<script type="text/javascript" src="{% static "church/js/mintui_index.js" %}"></script>





{% comment %} <link rel="stylesheet" href="{% static 'blog/css/blog.css' %}"> {% endcomment %}
<style>
    body{
        margin:0px;
    }
    .cover{
        z-index: 1;
        background-position: 57%;
        background-repeat: no-repeat;
        background-size: cover;
        position: absolute;
        width: 100%;
        height: 100%;
    }
    .video-js{
        object-fit: fill;
    }
    .page-detail{
        width: 100%;
    }
    .headblock{
        width: 100vw;
        height: 37vw;
        background: gray;
        text-align: center;
    }

    .contentblock p{
        margin:0px;
    }
    .sticky{
        position: fixed;
        top: 0px;
        left: 50%;
        transform: translate(-50%, 0px);
    }
    .cap-image-ad__title{
        margin: 0;
        background: #000000a1;
        color: #fff;
        text-align: left;
        position: relative;
        top: 124px;
        padding: 5px 13px;
        font-size: 13px;
    }
    .banner_item{
        justify-content: flex-end;
        display: flex;
        align-items: flex-end;
       
    }
    .mint-swipe-indicator.is-active{
        background:#1dec8c !important;
    }
    .col_title{
        font-size:16px;
    }
    .row_title{
        font-size:14px;

    }
    .row_rpart{
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        padding:0 0 0 10px;
        flex-grow: 1;
    }
    .row_rb_part{
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        font-size:12px;
    }
    .info{
        padding:5px 15px;
    }
</style>
</head>
<body class ="wechatpromt">



<div id="LordDay" class="container" style="min-height: 937px;display: flex;justify-content: center;">
    <div class="page-detail" >
        <div class="topblock">
        </div>
        {% if ccol %}
            <div class="headblock">
            <!-- {{ banners }} -->
            <mt-swipe :auto="400000">
                {% for ba in banners %}
                    <mt-swipe-item class="banner_item" style="background-image: url('{{ ba.image }}');background-size: cover;background-position-y: 22%;">
                        {% comment %} <img style="width:100%;height:auto;" src="{{ ba.image }}"> {% endcomment %}
                        <h3 class="cap-image-ad__title">{{ ba.title }}</h3>
                    </mt-swipe-item>
                {% endfor %}
            </mt-swipe>

           
                {% comment %} <div class="">
                    <div>{{ ccol.title  }}</div>
                    {{ ccol }}
                    <div>{{ ccol.pub_time | datetime_to_date }}</div>
                    {'id': 1, 'medias': [OrderedDict([('video', 'L3/default/fbec25f9-8261-05d0-370a-9dbeaaaeee21'), ('video_status', 1), ('SHD_URL', 'http://api.bicf.org/mediabase/L3/default/fbec25f9-8261-05d0-370a-9dbeaaaeee21/sd.mp4'), ('HD_URL', 'http://api.bicf.org/mediabase/L3/default/fbec25f9-8261-05d0-370a-9dbeaaaeee21/sd.mp4'), ('SD_URL', 'http://api.bicf.org/mediabase/L3/default/fbec25f9-8261-05d0-370a-9dbeaaaeee21/ld.mp4'), ('audio', ''), ('image', 'http://api.bicf.org/mediabase/L3/default/14a4297d-5a08-2290-a933-e004a33e452f'), ('pdf', '')])], 'title': '测试内容专栏', 'create_time': '2020-06-19T14:37:36.139139+08:00', 'update_time': '2020-06-19T14:40:06.421838+08:00', 'pub_time': '2020-06-19T14:37:00+08:00', 'status': 1, 'church': 22, 'user': 19}
                </div> {% endcomment %}
            </div>
            <div class="contentblock">
                <el-alert
                    title="线上主日崇拜于周日上午8：30更新上线"
                    type="warning"
                    description=""
                    show-icon>
                </el-alert>
                <mt-navbar v-model="selected">
                    <mt-tab-item id="1"><h3 class="col_title" >最新内容</h3></mt-tab-item>
                    <mt-tab-item id="2"><h3 class="col_title" >全部</h3></mt-tab-item>
                </mt-navbar>

                <!-- tab-container -->
                <mt-tab-container v-model="selected">
                    <mt-tab-container-item id="1">
                        <ul style="padding:0;">
                            {% for media in ccol.medias %}
                                <li style="display:flex;padding:15px;height:64px;">
                                    <div>
                                        <a href="/blog/media/{{ media.id }}" style="display:contents;">
                                            <img style="width:110px;height:64px;border-radius:7%;" src="{{ media.image }}">
                                        </a> 
                                    </div>
                                    <div class="row_rpart">
                                        <a style="text-decoration: none;" href="/blog/media/{{ media.id }}">
                                            <span class='row_title' >{{ media.title }}</span>
                                        </a>
                                        <div class="row_rb_part">
                                            <span class='row_desc' >{{ media.pub_time | datetime_to_date }}</span>
                                            <span class='row_desc' >{{ media.hits }} 次观看</span>
                                        </div>
                                    </div>
                                </li>
                            {% endfor %}
                        </ul> 
                    </mt-tab-container-item>
                    <mt-tab-container-item id="2">
                        <mt-cell v-for="n in 4" :title="'content ' + n" />
                    </mt-tab-container-item>
                </mt-tab-container>
                
            </div>
        {% else %}
            <p>No info found now.</p>
        {% endif %}
    </div>
</div>

</body>
<script>



if(document.getElementsByTagName('wechatpromt').length>0){
    if(document.getElementsByTagName('video').length>0){
        document.getElementsByTagName('video')[0].classList.add('fixtop')
        document.getElementsByTagName('video')[0].setAttribute('playsinline','playsinline')
        document.getElementsByTagName('video')[0].setAttribute('webkit-playsinline','webkit-playsinline')
        document.getElementsByTagName('video')[0].setAttribute('playsinline','playsinline')
        document.getElementsByTagName('video')[0].setAttribute('x5-playsinline','x5-playsinline')
    }
}


window.onresize = function(){
    /*console.log('re')
    vh = document.getElementsByTagName('video').length>0?document.getElementsByTagName('video')[0].offsetHeight:0
    container_v = document.getElementsByClassName('ckeditor-html5-video').length>0 ? document.getElementsByClassName('ckeditor-html5-video')[0]:{}
    container_v.style.height=vh*/
}


new Vue({
    el: '#LordDay',
    data: {
        theme: '',
        selected:'1',
    },
    created: function () {
    }
})

</script>
</html>